# Get Ondmeand Quotation

## Overview

This feature enables users to obtain on-demand shipment quotations from all courier companies available on the EasyParcel platform. Users need to provide sender and receiver addresses and waypoint information to retrieve shipment quotations. The response includes available courier services, transportation type, pricing details, and optional add-on features.

#### [API Endpoints](../5.API%20endpoint)

## Endpoint URL

```
https://api.easyparcel.com/open_api/2025-06/ondemand/quotations
```

## Authentication

Authentication is required. Refer to [Authentication](../../Authentication/README.md) for implementation.

## [Request](#request-parameters)  |  [Response](#response-parameters)

## Request Parameters

| Parameter                           | Type    | Required | Description                        | Remarks            |
| ----------------------------------- | ------- | -------- | ---------------------------------- | ------------------ |
| schedule\_pickup\_date              | string  | No       | Scheduled pickup date (YYYY-MM-DD) | -                  |
| schedule\_pickup\_time              | string  | No       | Scheduled pickup time (HH\:MM\:SS) | -                  |
| timezone                            | string  | No       | Pickup timezone                    | -                  |
| waypoint                            | array   | Yes      | List of pickup and dropoff points  | Minimum 2 required |
| waypoint\[\*].coordinates.latitude  | numeric | Yes      | Location latitude                  | -                  |
| waypoint\[\*].coordinates.longitude | numeric | Yes      | Location longitude                 | -                  |
| waypoint\[\*].address               | string  | No       | Full address of the location       | -                  |
| waypoint\[\*].type                  | string  | Yes      | Either `pickup` or `dropoff`       | -                  |

## Request Sample

```json
{
  "schedule_pickup_date": "2024-11-30",
  "schedule_pickup_time": "11:48:35",
  "timezone": "Asia/Kuala_Lumpur",
  "waypoint": [
    {
      "coordinates": {
        "latitude": 5.342720241204454,
        "longitude": 100.28204988381822
      },
      "address": "Kawasan Mendaki Bukit Jambul, Lintang Bukit Jambul 1, Bukit Jambul Indah, Bayan Lepas, Mukim 13 Paya Terubong, 11900, Timur Laut, Pulau Pinang, Malaysia",
      "type": "pickup"
    },
    {
      "coordinates": {
        "latitude": 5.325513957,
        "longitude": 100.2862732
      },
      "address": "Suntech @ Penang Cybercity, 1, Lintang Mayang Pasir 3, Bandar Bayan Baru, Bayan Lepas, Mukim 12 Bayan Lepas, 11950, Barat Daya, Pulau Pinang, Malaysia",
      "type": "dropoff"
    }
  ]
}
```

---

## Response Parameters

### Main Structure

| Parameter    | Type   | Description                      |
| ------------ | ------ | -------------------------------- |
| status\_code | int    | HTTP status code                 |
| message      | string | Status message                   |
| data         | array  | List of quotations with metadata |

### Data Object Structure

| Parameter  | Type   | Description                |
| ---------- | ------ | -------------------------- |
| status     | string | Status of the request      |
| input      | object | Echo of submitted input    |
| quotations | array  | List of courier quotations |

### Quotation Entry Structure

| Section   | Parameter             | Type   | Description                      |
| --------- | --------------------- | ------ | -------------------------------- |
| metadata  | quotationId           | string | Unique quotation ID              |
| courier   | service\_id           | string | Service ID                       |
|           | courier\_name         | string | Courier name                     |
|           | img\_courier          | string | Courier logo URL                 |
| transport | transportation\_type  | string | Transport type (e.g., Bike, Car) |
|           | durations             | string | Estimated delivery time          |
|           | parcel\_type\_support | string | Parcel suitability description   |
|           | weight\_limit         | string | Weight limit                     |
|           | dimension             | string | Max parcel dimension             |
| pricing   | total\_amount         | string | Quotation price                  |
|           | currency              | string | Currency (e.g., MYR)             |

---

## Sample Response

Refer to the full JSON response you provided in your message for all details on courier quotations including Lalamove and PandaGo examples with their respective vehicle types, prices, weight and dimension limits.

---

## Error Codes and Status Messages

| Status Code | Message      | Description                      |
| ----------- | ------------ | -------------------------------- |
| 200         | Success      | Request successful               |
| 400         | Bad Request  | Input validation failed          |
| 401         | Unauthorized | Invalid authentication           |
| 404         | Not Found    | No results for provided criteria |
| 500         | Server Error | Unexpected server error          |

### Sample Error Response

```json
{
  "status_code": 200,
  "message": "0 requests success, 3 request error.",
  "data": [
    {
      "status": "error",
      "input": { ... },
      "errors": [
        "The receiver postcode field is required"
      ]
    },
  ]
}
```

---

## Code Implementation Examples

### JavaScript (Fetch API)

```javascript
const requestData = {
  schedule_pickup_date: "2024-11-30",
  schedule_pickup_time: "11:48:35",
  timezone: "Asia/Kuala_Lumpur",
  waypoint: [
    { type: "pickup", coordinates: { latitude: 5.34, longitude: 100.28 } },
    { type: "dropoff", coordinates: { latitude: 5.32, longitude: 100.28 } }
  ]
};

fetch('https://api.easyparcel.com/open_api/2025-06/ondemand/quotations', {
  method: 'POST',
  headers: {
    'Content-Type': 'application/json',
    'Authorization': 'Bearer YOUR_API_KEY'
  },
  body: JSON.stringify(requestData)
})
.then(res => res.json())
.then(data => console.log(data))
.catch(err => console.error(err));
```

### PHP (cURL)

```php
<?php
$data = [
    "schedule_pickup_date" => "2024-11-30",
    "schedule_pickup_time" => "11:48:35",
    "timezone" => "Asia/Kuala_Lumpur",
    "waypoint" => [
        ["type" => "pickup", "coordinates" => ["latitude" => 5.34, "longitude" => 100.28]],
        ["type" => "dropoff", "coordinates" => ["latitude" => 5.32, "longitude" => 100.28]]
    ]
];

$ch = curl_init('https://api.easyparcel.com/open_api/2025-06/ondemand/quotations');
curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);
curl_setopt($ch, CURLOPT_POST, true);
curl_setopt($ch, CURLOPT_POSTFIELDS, json_encode($data));
curl_setopt($ch, CURLOPT_HTTPHEADER, [
    'Content-Type: application/json',
    'Authorization: Bearer YOUR_API_KEY'
]);
$response = curl_exec($ch);
curl_close($ch);
echo $response;
?>
```

### Python (requests)

```python
import requests

url = 'https://api.easyparcel.com/open_api/2025-06/ondemand/quotations'
headers = {
    'Content-Type': 'application/json',
    'Authorization': 'Bearer YOUR_API_KEY'
}
data = {
    "schedule_pickup_date": "2024-11-30",
    "schedule_pickup_time": "11:48:35",
    "timezone": "Asia/Kuala_Lumpur",
    "waypoint": [
        {"type": "pickup", "coordinates": {"latitude": 5.34, "longitude": 100.28}},
        {"type": "dropoff", "coordinates": {"latitude": 5.32, "longitude": 100.28}}
    ]
}

response = requests.post(url, json=data, headers=headers)
print(response.json())
```

---

## Best Practices

1. **Input Validation** – Validate all fields before API call.
2. **Sorting Quotations** – Sort by total amount for better user experience.
3. **Optional Features** – Allow users to toggle extras like insurance or SMS alerts.
4. **Display Info** – Always show courier logos, transport type, and delivery time.

---

<div align="center" style="margin: 1.5rem 0;">

[![Back to official documents](https://img.shields.io/badge/Back_to_official_documents-007ACC?style=flat-square)](../README.md)
[![←Previous Section](https://img.shields.io/badge/Previous_Section_%E2%86%90-FF7733?style=flat-square)](../../4.Postman%20Collection/README.md)
[![← Previous Topic](https://img.shields.io/badge/Previous_Topic_%E2%86%90-FF7733?style=flat-square)](/5.API%20endpoint/%201.Shipping/1.Get%20Shipment%20Quotation.md)
[![Next Paragraph→](https://img.shields.io/badge/Next_Paragraph_%E2%86%92-00CC88?style=flat-square)](/5.API%20endpoint/%202.Ondemand/2.Get%20Ondemand%20Coupon%20List.md)
[![Next Topic →](https://img.shields.io/badge/Next_Topic_%E2%86%92-00CC88?style=flat-square)](/5.API%20endpoint/3.Get%20Credit%20Wallet.md)
[![Next Section →](https://img.shields.io/badge/Next_Section_%E2%86%92-00CC88?style=flat-square)](../../6.Webhook/1.Guide%20to%20subscribe%20webhook.md)

</div>

