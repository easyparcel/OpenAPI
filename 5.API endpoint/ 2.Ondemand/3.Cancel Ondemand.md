### üöö EasyParcel On-Demand Order Cancellation

This guide explains how to cancel an on-demand shipment order.

## Endpoint URL

```
https://api.easyparcel.com/ondemand/cancel
```

---

## üì• Request Parameters

| Parameter                                                 | Type    | Required | Description                                    |
| --------------------------------------------------------- | ------- | -------- | ---------------------------------------------- |
| booking_id                                                | string  | yes      | booking number/id of the ondemand shipment     |


---
## üì¶ Request Example

```json
{
    "booking_id": "EOD-330"
}
```

---

## üßæ Response Parameters

### Main Response

| Parameter    | Type   | Description                                |
| ------------ | ------ | ------------------------------------------ |
| status\_code | int    | HTTP status code (e.g., 200)               |
| message      | string | Success or error message                   |
| data         | object | Contains booking details and shipment info |

### Cancellation 

| Parameter      | Type   | Description                          |
| -------------- | ------ | ------------------------------------ |
| message        | string | message for the cancelled status     |
| booking_id     | string | booking id/number of the ondemand status   |


---

## Response

```json
{
    "status_code": 200,
    "message": "success",
    "data": [
        {
            "message": "Shipment cancelled successfully",
            "booking_id": "EOD-318"
        }
    ]
}
```
---

## üìÇ Code Implementation Examples

### JavaScript (Fetch API)

```javascript
fetch("https://api.easyparcel.com/ondemand/cancel", {
    method: "POST",
    headers: {
        "Content-Type": "application/json",
        "Authorization": "Bearer YOUR_ACCESS_TOKEN"
    },
    body: JSON.stringify({
        booking_id: "EOD-330"
    })
})
.then(res => res.json())
.then(data => console.log(data))
.catch(err => console.error(err));
```

### PHP (cURL)

```php
<?php
$ch = curl_init("https://api.easyparcel.com/ondemand/cancel");
$data = [
    "booking_id" => "EOD-330"
];
curl_setopt($ch, CURLOPT_HTTPHEADER, [
    'Content-Type: application/json',
    'Authorization: Bearer YOUR_ACCESS_TOKEN'
]);
curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);
curl_setopt($ch, CURLOPT_POSTFIELDS, json_encode($data));
$response = curl_exec($ch);
curl_close($ch);
echo $response;
?>
```

### Python (Requests)

```python
import requests

url = "https://api.easyparcel.com/ondemand/cancel"
headers = {
    "Content-Type": "application/json",
    "Authorization": "Bearer YOUR_ACCESS_TOKEN"
}
data = {
    "booking_id": "EOD-330"
}
response = requests.post(url, json=data, headers=headers)
print(response.json())
```

---

## üìÑ Best Practices

* **Always include a valid `booking_id`** when attempting to cancel an order.
* **Ensure the order is eligible for cancellation** (i.e., not already picked up or completed).
* **Handle the response gracefully**, including possible failure messages.
* **Use test credentials** in sandbox mode for testing integration before going live.
* **Rate limit your API calls** to avoid service throttling or rejection.
* **Log your cancellation attempts** for traceability and support reference.
* **Secure your access token** and never expose it in public repositories or front-end code.

<div align="center" style="margin: 1.5rem 0;">

[![Back to official documents](https://img.shields.io/badge/Back_to_official_documents-007ACC?style=flat-square)](../README.md)
[![‚ÜêPrevious Section](https://img.shields.io/badge/Previous_Section_%E2%86%90-FF7733?style=flat-square)](/4.Postman%20Collection/Postman%20Collection.md)
[![‚ÜêPrevious Topic](https://img.shields.io/badge/Previous_Topic_%E2%86%90-FF7733?style=flat-square)](/5.API%20endpoint/%201.Shipping/1.Get%20Shipment%20Quotation.md)
[![‚ÜêPrevious Paragraph](https://img.shields.io/badge/Previous_Paragraph_%E2%86%90-FF7733?style=flat-square)](/5.API%20endpoint/%202.Ondemand/2.Submit%20Ondemand%20Order.md)
[![Next Topic ‚Üí](https://img.shields.io/badge/Next_Topic_%E2%86%92-00CC88?style=flat-square)](/5.API%20endpoint/3.Get%20Credit%20Wallet.md)
[![Next Section ‚Üí](https://img.shields.io/badge/Next_Section_%E2%86%92-00CC88?style=flat-square)](/6.Webhook/1.Guide%20to%20subscribe%20webhook.md)

</div>
